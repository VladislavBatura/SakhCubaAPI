{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\Aviator\\\\source\\\\repos\\\\SakhCubaAPI\\\\SakhCubaAPI\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nexport class AdminNewsComponent {\n  constructor() {\n    this.imageSrc = '';\n  }\n\n  ngOnInit() {}\n\n  handleImageUpload(e) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.convertImageToBase64(e);\n    })();\n  }\n\n  convertImageToBase64(input) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var reader = new FileReader();\n      var file = input.dataTransfer ? input.dataTransfer.files[0] : input.target.files[0];\n      var pattern = /image-*/;\n\n      if (!file.type.match(pattern)) {\n        alert('invalid format');\n        return;\n      }\n\n      reader.onload = _this2._handleReaderLoader.bind(_this2);\n\n      reader.onerror = error => console.log(error);\n\n      reader.readAsDataURL(file);\n    })();\n  }\n\n  _handleReaderLoader(e) {\n    var reader = e.target;\n    this.imageSrc = reader.result;\n    console.log(\"image successully encoded\");\n  }\n\n}\n\nAdminNewsComponent.ɵfac = function AdminNewsComponent_Factory(t) {\n  return new (t || AdminNewsComponent)();\n};\n\nAdminNewsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AdminNewsComponent,\n  selectors: [[\"app-admin-news\"]],\n  decls: 5,\n  vars: 1,\n  consts: [[\"name\", \"imageUrl\", \"type\", \"file\", \"accept\", \"image/*\", 3, \"change\"], [2, \"max-width\", \"300px\", \"max-height\", \"300px\", 3, \"src\"]],\n  template: function AdminNewsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"admin-news works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"input\", 0);\n      i0.ɵɵlistener(\"change\", function AdminNewsComponent_Template_input_change_2_listener($event) {\n        return ctx.handleImageUpload($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\");\n      i0.ɵɵelement(4, \"img\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"src\", ctx.imageSrc, i0.ɵɵsanitizeUrl);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZG1pbi1uZXdzLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/Aviator/source/repos/SakhCubaAPI/SakhCubaAPI/ClientApp/src/app/admin-news/admin-news.component.ts"],"names":["i0","AdminNewsComponent","constructor","imageSrc","ngOnInit","handleImageUpload","e","convertImageToBase64","input","reader","FileReader","file","dataTransfer","files","target","pattern","type","match","alert","onload","_handleReaderLoader","bind","onerror","error","console","log","readAsDataURL","result","ɵfac","AdminNewsComponent_Factory","t","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","AdminNewsComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AdminNewsComponent_Template_input_change_2_listener","$event","ɵɵelement","ɵɵadvance","ɵɵproperty","ɵɵsanitizeUrl","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nexport class AdminNewsComponent {\r\n    constructor() {\r\n        this.imageSrc = '';\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    async handleImageUpload(e) {\r\n        await this.convertImageToBase64(e);\r\n    }\r\n    async convertImageToBase64(input) {\r\n        var reader = new FileReader();\r\n        var file = input.dataTransfer ? input.dataTransfer.files[0] : input.target.files[0];\r\n        var pattern = /image-*/;\r\n        if (!file.type.match(pattern)) {\r\n            alert('invalid format');\r\n            return;\r\n        }\r\n        reader.onload = this._handleReaderLoader.bind(this);\r\n        reader.onerror = error => console.log(error);\r\n        reader.readAsDataURL(file);\r\n    }\r\n    _handleReaderLoader(e) {\r\n        var reader = e.target;\r\n        this.imageSrc = reader.result;\r\n        console.log(\"image successully encoded\");\r\n    }\r\n}\r\nAdminNewsComponent.ɵfac = function AdminNewsComponent_Factory(t) { return new (t || AdminNewsComponent)(); };\r\nAdminNewsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AdminNewsComponent, selectors: [[\"app-admin-news\"]], decls: 5, vars: 1, consts: [[\"name\", \"imageUrl\", \"type\", \"file\", \"accept\", \"image/*\", 3, \"change\"], [2, \"max-width\", \"300px\", \"max-height\", \"300px\", 3, \"src\"]], template: function AdminNewsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"p\");\r\n        i0.ɵɵtext(1, \"admin-news works!\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"input\", 0);\r\n        i0.ɵɵlistener(\"change\", function AdminNewsComponent_Template_input_change_2_listener($event) { return ctx.handleImageUpload($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"div\");\r\n        i0.ɵɵelement(4, \"img\", 1);\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"src\", ctx.imageSrc, i0.ɵɵsanitizeUrl);\r\n    } }, styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhZG1pbi1uZXdzLmNvbXBvbmVudC5jc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}